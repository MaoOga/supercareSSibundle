<!DOCTYPE html>
<html>
<head>
    <title>Test Real Form Debug</title>
</head>
<body>
    <h2>Test Real Form Debug - Post-Operative Monitoring</h2>
    
    <form action="submit_form_working.php" method="POST">
        <!-- Required fields for patient -->
        <input type="hidden" name="name" value="Test Patient">
        <input type="hidden" name="age" value="30">
        <input type="hidden" name="Sex" value="Male">
        <input type="hidden" name="uhid" value="TESTDEBUG">
        <input type="hidden" name="phone" value="1234567890">
        <input type="hidden" name="bed" value="A1">
        <input type="hidden" name="address" value="Test Address">
        <input type="hidden" name="diagnosis" value="Test Diagnosis">
        <input type="hidden" name="surgical_procedure" value="Test Procedure">
        
        <!-- Required patient info -->
        <input type="hidden" name="patient_info[doa]" value="01/01/2024">
        <input type="hidden" name="patient_info[dos]" value="02/01/2024">
        <input type="hidden" name="patient_info[dod]" value="03/01/2024">
        <input type="hidden" name="patient_info[surgeon]" value="Test Surgeon">
        <input type="hidden" name="operation_duration" value="2 hours">
        
        <!-- Required surgical skin preparation -->
        <input type="hidden" name="surgical_skin_preparation[pre_op_bath]" value="Yes">
        <input type="hidden" name="surgical_skin_preparation[hair-removal]" value="Razor">
        <input type="hidden" name="surgical_skin_preparation[removal-done]" value="Yes">
        
        <!-- Required implanted materials -->
        <input type="hidden" name="implanted_used" value="No">
        
        <!-- Post-Operative Wound Monitoring -->
        <h3>Post-Operative Wound Monitoring</h3>
        <table border="1">
            <tr>
                <th>Day</th>
                <th>Date</th>
                <th>Dosage</th>
                <th>Discharge</th>
                <th>Tenderness</th>
                <th>Swelling</th>
                <th>Fever</th>
            </tr>
            <tr>
                <td>1</td>
                <td><input type="text" name="post-operative[date]_1" value="01/01/2024"></td>
                <td><textarea name="post-dosage_1">Real Dosage 1</textarea></td>
                <td><textarea name="type-ofdischarge_1">Real Discharge 1</textarea></td>
                <td><textarea name="tenderness-pain_1">Real Tenderness 1</textarea></td>
                <td><textarea name="swelling_1">Real Swelling 1</textarea></td>
                <td><textarea name="Fever_1">Real Fever 1</textarea></td>
            </tr>
            <tr>
                <td>2</td>
                <td><input type="text" name="post-operative[date]_2" value="02/01/2024"></td>
                <td><textarea name="post-dosage_2">Real Dosage 2</textarea></td>
                <td><textarea name="type-ofdischarge_2">Real Discharge 2</textarea></td>
                <td><textarea name="tenderness-pain_2">Real Tenderness 2</textarea></td>
                <td><textarea name="swelling_2">Real Swelling 2</textarea></td>
                <td><textarea name="Fever_2">Real Fever 2</textarea></td>
            </tr>
        </table>
        
        <!-- Required cultural dressing -->
        <input type="hidden" name="Cultural-Swap" value="Test">
        <input type="hidden" name="Dressing-Finding" value="Test">
        
        <!-- Required wound complications -->
        <input type="hidden" name="Wound-Complication Date" value="04/01/2024">
        
        <!-- Required review sutures -->
        <input type="hidden" name="ReviewOn" value="05/01/2024">
        <input type="hidden" name="SuturesROn" value="06/01/2024">
        
        <!-- Required review phone -->
        <input type="hidden" name="RevieworPhoneDate" value="07/01/2024">
        <input type="hidden" name="reviewp" value="Yes">
        <input type="hidden" name="reviewppain" value="No">
        <input type="hidden" name="reviewpus" value="No">
        <input type="hidden" name="reviewbleed" value="No">
        <input type="hidden" name="reviewother" value="No">
        
        <input type="submit" value="Test Working Form Submission">
    </form>
    
    <div id="result" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; display: none;"></div>
    
    <script>
    document.querySelector('form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const resultDiv = document.getElementById('result');
        
        fetch('submit_form_working.php', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<h3>Response:</h3><pre>' + JSON.stringify(data, null, 2) + '</pre>';
        })
        .catch(error => {
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<h3>Error:</h3><pre>' + error.message + '</pre>';
        });
    });
    </script>
</body>
</html>
